import Tkinter as Tk                    # imports
import ttk
import sqlite3
conn = sqlite3.connect("W_management.db") # or use :memory: to put it in RAM
cursor = conn.cursor()
try:
    cursor.execute("""CREATE TABLE people(firstname text, lastname text, street text, relationship text, status text)""")
except:
    pass

class Application(ttk.Frame):

    double_click_flag = False
    

    def __init__(self, master):
        ttk.Frame.__init__(self)
        self.master = master
        self.name = Tk.StringVar()

    
        master.geometry("500x500")                           # Create instance      
        master.title("Python GUI")                 # Add a title 
        
        self.tabControl = ttk.Notebook(master)          # Create Tab Control
        self.tabControl.pack(expand=1, fill="both")  # Pack to make visible
        self.my_style = ttk.Style()
        self.my_style.configure('My.TFrame', background='#fff')

        self.tab1 = ttk.Frame(self.tabControl,  style='My.TFrame')
        #tab1.grid(column=1,row=1,sticky='news')            # Create a tab 
        self.tabControl.add(self.tab1, text='To do')      # Add the tab
        self.button = Tk.Button(self.tab1, text="Add Person", command=self.add_person)
        self.button.grid(row=0, column=0)
        
        
        # Create Tab Control
        self.tab2 = ttk.Frame(self.tabControl)            # Create a tab 
        self.tabControl.add(self.tab2, text='Invited')      # Add the tab
        self.label2 = Tk.Label(self.tab2, text="Denver")
        self.label2.grid(row=0, column=0)

    def person_window(self):
        self.t = Tk.Toplevel(self)
        self.t.wm_title("Window")
        self.t.geometry("400x400")
        self.nlabel = Tk.Label(self.t, text="Name")
        self.nlabel.grid(row=0, column=0)
        self.nent = Tk.Entry(self.t, textvariable=self.name , width=30)
        self.nent.grid(row=0, column=2)
        self.nent = Tk.Button(self.t, text="Save", command=self.save_person_db)
        self.nent.grid(row=1, column=2)

    def double_click(self, event):
        '''  set the double click status flag
        '''
        global double_click_flag
        double_click_flag = True
        print "You did it"
        
    
    def add_person(self):
        self.person_window()

    def save_person_db(self):
        #sql = 
        self.res = cursor.execute("INSERT INTO people VALUES()")

        # for self.row in self.res:
        #     self.name1 = self.row[1]



def main():     
    
    win = Tk.Tk()
    app = Application(win)
    
    win.mainloop()                     
    
   
main()

cursor.close()
del cursor
conn.close()
